[
    {
        "kind": 1,
        "language": "markdown",
        "value": "# CDS SDM  CAP Notebook\n\nThis CAP notebook creates a CAP Java demoapp with sample data and enhances the app with the CAP feature for attachments.\nAll needed enhancements are done. \nFor more information check the project [README](../README.md). ",
        "outputs": []
    },
    {
        "kind": 1,
        "language": "markdown",
        "value": "## Add the App with Sample Data\n`cds init` is used to create a basic CAP Java app with sample data.",
        "outputs": []
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "cds init demoapp --add java,sample\n",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "Creating new CAP project in ./demoapp\n\nAdding feature 'java'...\nUsing Maven archetype version 3.0.1\n[\u001b[1;34mINFO\u001b[m] Scanning for projects...\n\u001b[90mDownloading from \u001b[0mcentral\u001b[90m: https://repo.maven.apache.org/maven2/\u001b[0morg/apache/maven/plugins/maven-metadata.xml\n\u001b[90mDownloading from \u001b[0mcentral\u001b[90m: https://repo.maven.apache.org/maven2/\u001b[0mcom/sap/ldi/maven-metadata.xml\n\u001b[90mDownloading from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0mcom/sap/ldi/maven-metadata.xml\n\u001b[90mDownloading from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0morg/apache/maven/plugins/maven-metadata.xml\nProgress (1): 1.4/14 kBProgress (1): 2.8/14 kBProgress (1): 4.1/14 kBProgress (1): 5.5/14 kBProgress (1): 6.9/14 kBProgress (1): 8.3/14 kBProgress (1): 9.7/14 kBProgress (1): 11/14 kB Progress (1): 12/14 kBProgress (1): 14/14 kBProgress (1): 14 kB                      Downloaded\u001b[90m from \u001b[0mcentral\u001b[90m: https://repo.maven.apache.org/maven2/\u001b[0morg/apache/maven/plugins/maven-metadata.xml\u001b[90m (14 kB at 32 kB/s)\u001b[0m\n\u001b[90mDownloading from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0morg/codehaus/mojo/maven-metadata.xml\n\u001b[90mDownloading from \u001b[0mcentral\u001b[90m: https://repo.maven.apache.org/maven2/\u001b[0morg/codehaus/mojo/maven-metadata.xml\nProgress (1): 1.4/21 kBProgress (1): 2.8/21 kBProgress (1): 4.1/21 kBProgress (1): 5.5/21 kBProgress (1): 6.9/21 kBProgress (1): 8.3/21 kBProgress (1): 9.7/21 kBProgress (1): 11/21 kB Progress (1): 12/21 kBProgress (1): 14/21 kBProgress (1): 15/21 kBProgress (1): 17/21 kBProgress (1): 18/21 kBProgress (1): 19/21 kBProgress (1): 21 kB                      Downloaded\u001b[90m from \u001b[0mcentral\u001b[90m: https://repo.maven.apache.org/maven2/\u001b[0morg/codehaus/mojo/maven-metadata.xml\u001b[90m (21 kB at 222 kB/s)\u001b[0m\nProgress (1): 758 B                   Downloaded\u001b[90m from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0mcom/sap/ldi/maven-metadata.xml\u001b[90m (758 B at 537 B/s)\u001b[0m\nProgress (1): 7.4/12 kBProgress (1): 12 kB                       Downloaded\u001b[90m from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0morg/apache/maven/plugins/maven-metadata.xml\u001b[90m (12 kB at 7.8 kB/s)\u001b[0m\nProgress (1): 7.4/24 kBProgress (1): 16/24 kB Progress (1): 24 kB                      Downloaded\u001b[90m from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0morg/codehaus/mojo/maven-metadata.xml\u001b[90m (24 kB at 21 kB/s)\u001b[0m\n\u001b[90mDownloading from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0morg/apache/maven/plugins/maven-archetype-plugin/maven-metadata.xml\n\u001b[90mDownloading from \u001b[0mcentral\u001b[90m: https://repo.maven.apache.org/maven2/\u001b[0morg/apache/maven/plugins/maven-archetype-plugin/maven-metadata.xml\nProgress (1): 980 B                   Downloaded\u001b[90m from \u001b[0mcentral\u001b[90m: https://repo.maven.apache.org/maven2/\u001b[0morg/apache/maven/plugins/maven-archetype-plugin/maven-metadata.xml\u001b[90m (980 B at 21 kB/s)\u001b[0m\nProgress (1): 1.1 kB                    Downloaded\u001b[90m from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0morg/apache/maven/plugins/maven-archetype-plugin/maven-metadata.xml\u001b[90m (1.1 kB at 972 B/s)\u001b[0m\n[\u001b[1;34mINFO\u001b[m] \n[\u001b[1;34mINFO\u001b[m] \u001b[1m------------------< \u001b[0;36morg.apache.maven:standalone-pom\u001b[0;1m >-------------------\u001b[m\n[\u001b[1;34mINFO\u001b[m] \u001b[1mBuilding Maven Stub Project (No POM) 1\u001b[m\n[\u001b[1;34mINFO\u001b[m] \u001b[1m--------------------------------[ pom ]---------------------------------\u001b[m\n[\u001b[1;34mINFO\u001b[m] \n[\u001b[1;34mINFO\u001b[m] \u001b[1m>>> \u001b[0;32marchetype:3.2.1:generate\u001b[m \u001b[1m(default-cli)\u001b[0;1m > \u001b[0;1mgenerate-sources\u001b[m @ \u001b[36mstandalone-pom\u001b[0;1m >>>\u001b[m\n[\u001b[1;34mINFO\u001b[m] \n[\u001b[1;34mINFO\u001b[m] \u001b[1m<<< \u001b[0;32marchetype:3.2.1:generate\u001b[m \u001b[1m(default-cli)\u001b[0;1m < \u001b[0;1mgenerate-sources\u001b[m @ \u001b[36mstandalone-pom\u001b[0;1m <<<\u001b[m\n[\u001b[1;34mINFO\u001b[m] \n[\u001b[1;34mINFO\u001b[m] \n[\u001b[1;34mINFO\u001b[m] \u001b[1m--- \u001b[0;32marchetype:3.2.1:generate\u001b[m \u001b[1m(default-cli)\u001b[m @ \u001b[36mstandalone-pom\u001b[0;1m ---\u001b[m\n[\u001b[1;34mINFO\u001b[m] Generating project in Batch mode\n[\u001b[1;34mINFO\u001b[m] Archetype repository not defined. Using the one from [com.sap.cds:cds-services-archetype:3.0.1] found in catalog remote\n\u001b[90mDownloading from \u001b[0mcap-java\u001b[90m: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/\u001b[0mcom/sap/cds/cds-services-archetype/3.0.1/cds-services-archetype-3.0.1.pom\n\u001b[90mDownloading from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0mcom/sap/cds/cds-services-archetype/3.0.1/cds-services-archetype-3.0.1.pom\nProgress (1): 1.1 kB                    Downloaded\u001b[90m from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0mcom/sap/cds/cds-services-archetype/3.0.1/cds-services-archetype-3.0.1.pom\u001b[90m (1.1 kB at 7.9 kB/s)\u001b[0m\n\u001b[90mDownloading from \u001b[0mcap-java\u001b[90m: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/\u001b[0mcom/sap/cds/cds-services-archetype/3.0.1/cds-services-archetype-3.0.1.jar\n\u001b[90mDownloading from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0mcom/sap/cds/cds-services-archetype/3.0.1/cds-services-archetype-3.0.1.jar\nProgress (1): 7.5/15 kBProgress (1): 15 kB                       Downloaded\u001b[90m from \u001b[0martifactory\u001b[90m: https://int.repositories.cloud.sap/artifactory/build-snapshots/\u001b[0mcom/sap/cds/cds-services-archetype/3.0.1/cds-services-archetype-3.0.1.jar\u001b[90m (15 kB at 54 kB/s)\u001b[0m\n[\u001b[1;34mINFO\u001b[m] ----------------------------------------------------------------------------\n[\u001b[1;34mINFO\u001b[m] Using following parameters for creating project from Archetype: cds-services-archetype:3.0.1\n[\u001b[1;34mINFO\u001b[m] ----------------------------------------------------------------------------\n[\u001b[1;34mINFO\u001b[m] Parameter: groupId, Value: customer\n[\u001b[1;34mINFO\u001b[m] Parameter: artifactId, Value: demoapp\n[\u001b[1;34mINFO\u001b[m] Parameter: version, Value: 1.0.0-SNAPSHOT\n[\u001b[1;34mINFO\u001b[m] Parameter: package, Value: customer.demoapp\n[\u001b[1;34mINFO\u001b[m] Parameter: packageInPathFormat, Value: customer/demoapp\n[\u001b[1;34mINFO\u001b[m] Parameter: inMemoryDatabase, Value: h2\n[\u001b[1;34mINFO\u001b[m] Parameter: package, Value: customer.demoapp\n[\u001b[1;34mINFO\u001b[m] Parameter: groupId, Value: customer\n[\u001b[1;34mINFO\u001b[m] Parameter: jdkVersion, Value: 21\n[\u001b[1;34mINFO\u001b[m] Parameter: nodeUrl, Value: https://nodejs.org/dist/\n[\u001b[1;34mINFO\u001b[m] Parameter: includeModel, Value: false\n[\u001b[1;34mINFO\u001b[m] Parameter: version, Value: 1.0.0-SNAPSHOT\n[\u001b[1;34mINFO\u001b[m] Parameter: odataVersion, Value: v4\n[\u001b[1;34mINFO\u001b[m] Parameter: includeIntegrationTest, Value: false\n[\u001b[1;34mINFO\u001b[m] Parameter: persistence, Value: true\n[\u001b[1;34mINFO\u001b[m] Parameter: artifactId, Value: demoapp\n[\u001b[1;34mINFO\u001b[m] Parameter: targetPlatform, Value: local\n[\u001b[1;34mINFO\u001b[m] Parent element not overwritten in /private/var/folders/nq/h635_0ld1bl1lcwmrnn9861c0000gn/T/demoapp_U1WpnxBtgVFK/demoapp/srv/pom.xml\n[\u001b[1;34mINFO\u001b[m] Executing META-INF/archetype-post-generate.groovy post-generation script\n[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO] \n[INFO] demoapp parent                                                     [pom]\n[INFO] demoapp                                                            [jar]\n[INFO] \n[INFO] ----------------------< customer:demoapp-parent >-----------------------\n[INFO] Building demoapp parent 1.0.0-SNAPSHOT                             [1/2]\n[INFO]   from pom.xml\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- cds:3.0.1:add (default-cli) @ demoapp-parent ---\n[INFO] AddMojo: Using module srv: groupId=customer, artifactId=demoapp, version=1.0.0-SNAPSHOT\n[INFO] AddMojo: Added dependency `com.h2database:h2` to '/private/var/folders/nq/h635_0ld1bl1lcwmrnn9861c0000gn/T/demoapp_U1WpnxBtgVFK/demoapp/srv/pom.xml'.\n[INFO] AddMojo: Added CDS command 'deploy --to h2 --dry > \"${project.basedir}/src/main/resources/schema-h2.sql\"' to cds-maven-plugin configuration in /private/var/folders/nq/h635_0ld1bl1lcwmrnn9861c0000gn/T/demoapp_U1WpnxBtgVFK/demoapp/srv/pom.xml.\n[INFO] AddMojo: Added profile 'default' to '/private/var/folders/nq/h635_0ld1bl1lcwmrnn9861c0000gn/T/demoapp_U1WpnxBtgVFK/demoapp/srv/src/main/resources/application.yaml'.\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for demoapp parent 1.0.0-SNAPSHOT:\n[INFO] \n[INFO] demoapp parent ..................................... SUCCESS [  0.687 s]\n[INFO] demoapp ............................................ SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.975 s\n[INFO] Finished at: 2024-08-06T11:26:17+05:30\n[INFO] ------------------------------------------------------------------------\n[\u001b[1;34mINFO\u001b[m] Project created from Archetype in dir: /private/var/folders/nq/h635_0ld1bl1lcwmrnn9861c0000gn/T/demoapp_U1WpnxBtgVFK/demoapp\n[\u001b[1;34mINFO\u001b[m] \u001b[1m------------------------------------------------------------------------\u001b[m\n[\u001b[1;34mINFO\u001b[m] \u001b[1;32mBUILD SUCCESS\u001b[m\n[\u001b[1;34mINFO\u001b[m] \u001b[1m------------------------------------------------------------------------\u001b[m\n[\u001b[1;34mINFO\u001b[m] Total time:  10.974 s\n[\u001b[1;34mINFO\u001b[m] Finished at: 2024-08-06T11:26:17+05:30\n[\u001b[1;34mINFO\u001b[m] \u001b[1m------------------------------------------------------------------------\u001b[m\nAdding feature 'sample'...\n[\u001b[1;34mINFO\u001b[m] Scanning for projects...\n[\u001b[1;34mINFO\u001b[m] \u001b[1m------------------------------------------------------------------------\u001b[m\n[\u001b[1;34mINFO\u001b[m] \u001b[1mReactor Build Order:\u001b[m\n[\u001b[1;34mINFO\u001b[m] \n[\u001b[1;34mINFO\u001b[m] demoapp parent                                                     [pom]\n[\u001b[1;34mINFO\u001b[m] demoapp                                                            [jar]\n[\u001b[1;34mINFO\u001b[m] \n[\u001b[1;34mINFO\u001b[m] \u001b[1m----------------------< \u001b[0;36mcustomer:demoapp-parent\u001b[0;1m >-----------------------\u001b[m\n[\u001b[1;34mINFO\u001b[m] \u001b[1mBuilding demoapp parent 1.0.0-SNAPSHOT                             [1/2]\u001b[m\n[\u001b[1;34mINFO\u001b[m]   from pom.xml\n[\u001b[1;34mINFO\u001b[m] \u001b[1m--------------------------------[ pom ]---------------------------------\u001b[m\n[\u001b[1;34mINFO\u001b[m] \n[\u001b[1;34mINFO\u001b[m] \u001b[1m--- \u001b[0;32mcds:3.0.1:add\u001b[m \u001b[1m(default-cli)\u001b[m @ \u001b[36mdemoapp-parent\u001b[0;1m ---\u001b[m\n[\u001b[1;34mINFO\u001b[m] AddMojo: Using module srv: groupId=customer, artifactId=demoapp, version=1.0.0-SNAPSHOT\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/appconfig/fioriSandboxConfig.json\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/browse/webapp/manifest.json\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/browse/webapp/Component.js\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/browse/webapp/i18n/i18n.properties\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/browse/webapp/i18n/i18n_de.properties\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/browse/fiori-service.cds\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/common.cds\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/index.html\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/admin-books/webapp/manifest.json\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/admin-books/webapp/Component.js\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/admin-books/webapp/i18n/i18n.properties\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/admin-books/webapp/i18n/i18n_de.properties\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/admin-books/fiori-service.cds\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/services.cds\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/_i18n/i18n.properties\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/app/_i18n/i18n_de.properties\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/db/schema.cds\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/db/data/sap.capire.bookshop-Genres.csv\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/db/data/sap.capire.bookshop-Books_texts.csv\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/db/data/sap.capire.bookshop-Authors.csv\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/db/data/sap.capire.bookshop-Books.csv\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/srv/cat-service.cds\n[\u001b[1;34mINFO\u001b[m] AddMojo: Writing file /Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/srv/admin-service.cds\n[\u001b[1;34mINFO\u001b[m] AddMojo: Added dependency `org.springframework.boot:spring-boot-starter-security` to '/Users/I746446/Documents/cap-java/localtest/sdm/cap-notebook/demoapp/srv/pom.xml'.\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\n[\u001b[1;33mWARNING\u001b[m] AddMojo: Profile 'default' exists and has been updated.\n[\u001b[1;34mINFO\u001b[m] \u001b[1m------------------------------------------------------------------------\u001b[m\n[\u001b[1;34mINFO\u001b[m] \u001b[1mReactor Summary for demoapp parent 1.0.0-SNAPSHOT:\u001b[m\n[\u001b[1;34mINFO\u001b[m] \n[\u001b[1;34mINFO\u001b[m] demoapp parent ..................................... \u001b[1;32mSUCCESS\u001b[m [  0.328 s]\n[\u001b[1;34mINFO\u001b[m] demoapp ............................................ \u001b[1;33mSKIPPED\u001b[m\n[\u001b[1;34mINFO\u001b[m] \u001b[1m------------------------------------------------------------------------\u001b[m\n[\u001b[1;34mINFO\u001b[m] \u001b[1;32mBUILD SUCCESS\u001b[m\n[\u001b[1;34mINFO\u001b[m] \u001b[1m------------------------------------------------------------------------\u001b[m\n[\u001b[1;34mINFO\u001b[m] Total time:  0.489 s\n[\u001b[1;34mINFO\u001b[m] Finished at: 2024-08-06T11:26:18+05:30\n[\u001b[1;34mINFO\u001b[m] \u001b[1m------------------------------------------------------------------------\u001b[m\n\nSuccessfully created project. Continue with 'cd demoapp'.\nLearn about next steps at https://cap.cloud.sap\n\n"
            }
        ]
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "cd demoapp",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "\n"
            }
        ]
    },
    {
        "kind": 1,
        "language": "markdown",
        "value": "## Add Enhancements for the Datamodel\nThe `books` entity will be enhanced with the `attachments` composition.\n\nTo be able to use the `sdm` datamodel a `pom.xml` needs to be added with the maven dependency for the feature.\nThe version for the dependency is taken from the file `version.txt`. \nThis file will be updated if a new version is created in the repository.\n\nOnce the `pom.xml` is available and the version is set a `mvn clean verify` is executed.\nWith the the `resolve` goal of the `cds-maven-plugin` is executed which copies the `cds`-files from the feature in the `target` folder of the `db` module.\n\nOnce available in the `target` folder it will be found and can be used in the data models.",
        "outputs": []
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "%%writefile \"db/attachment-extension.cds\"\nusing {sap.capire.bookshop.Books} from './schema';\nusing {sap.attachments.Attachments} from`com.sap.cds/sdm`;\n\nextend entity Books with {\n    attachments : Composition of many Attachments;\n}\n\nentity Statuses @cds.autoexpose @readonly {\n    key code : StatusCode;\n        text : localized String(255);\n}\n\nextend Attachments with {\n    statusText : Association to Statuses on statusText.code = $self.status;\n}\n\nannotate Books.attachments with {\n    status @(\n        Common.Text: {\n            $value: ![statusText.text],\n            ![@UI.TextArrangement]: #TextOnly\n        },\n        ValueList: {entity:'Statuses'},\n        sap.value.list: 'fixed-values'\n    );\n}\n",
        "outputs": [
            {
                "mime": "text/html",
                "value": "Wrote cell content to file <a href=\"demoapp/db/attachment-extension.cds\">demoapp/db/attachment-extension.cds</a>.\n"
            }
        ]
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "\n"
            }
        ]
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "\n"
            }
        ]
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "%%writefile \"db/pom.xml\"\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n\t<modelVersion>4.0.0</modelVersion>\n\t<parent>\n\t\t<artifactId>demoapp-parent</artifactId>\n\t\t<groupId>customer</groupId>\n\t\t<version>${revision}</version>\n\t</parent>\n\n\t<artifactId>db</artifactId>\n\n    <!-- CAP Attachment-->\n    <dependencies>\n        <dependency>\n            <groupId>com.sap.cds</groupId>\n            <artifactId>sdm</artifactId>\n            <version>1.0.0-SNAPSHOT</version>\n        </dependency>\n    </dependencies>\n\t\n\t<build>\n\t\t<plugins>\n\t\t\t<plugin>\n\t\t\t\t<groupId>com.sap.cds</groupId>\n\t\t\t\t<artifactId>cds-maven-plugin</artifactId>\n\t\t\t\t<version>${cds.services.version}</version>\n\t\t\t\t<executions>\n\t\t\t\t\t<execution>\n\t\t\t\t\t\t<id>cds.clean</id>\n\t\t\t\t\t\t<goals>\n\t\t\t\t\t\t\t<goal>clean</goal>\n\t\t\t\t\t\t</goals>\n\t\t\t\t\t</execution>\n\t\t\t\t\t<execution>\n\t\t\t\t\t\t<id>cds.resolve</id>\n\t\t\t\t\t\t<goals>\n\t\t\t\t\t\t\t<goal>resolve</goal>\n\t\t\t\t\t\t</goals>\n\t\t\t\t\t</execution>\n\t\t\t\t</executions>\n\t\t\t</plugin>\n\t\t</plugins>\n\t</build>\n\n</project>",
        "outputs": [
            {
                "mime": "text/html",
                "value": "Wrote cell content to file <a href=\"demoapp/db/pom.xml\">demoapp/db/pom.xml</a>.\n"
            }
        ]
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "cd db",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "\n"
            }
        ]
    },
    {
        "kind": 2,
        "language": "java",
        "value": "Path versionPath = Paths.get(\"../../version.txt\");\nString version;\nif (Files.exists(versionPath)){\n    version = Files.readString(versionPath);\n    System.out.println(\"Using version from 'version.txt': \" + version);\n}else{\n    version = \"1.0.2\";\n    System.out.println(\"Using hard coded version: \" + version);\n}\nPath pomPath = Paths.get(\"pom.xml\");\nStream<String> lines = Files.lines(pomPath);\nList<String> replaced = lines.map(line -> line.replaceAll(\"attachment_version\", version)).collect(Collectors.toList());\nFiles.write(pomPath, replaced);\nlines.close();",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "Using hard coded version: 1.0.2\n\n"
            }
        ]
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "mvn clean compile",
        "outputs": [
            {
                "mime": "application/vnd.code.notebook.stderr",
                "value": "Error: [INFO] Scanning for projects...\n[INFO] \n[INFO] ----------------------------< customer:db >-----------------------------\n[INFO] Building db 1.0.0-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/sdm/1.0.0/sdm-1.0.0.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/sdm/1.0.0/sdm-1.0.0.pom\nDownloading from central: https://repo.maven.apache.org/maven2/com/sap/cds/sdm/1.0.0/sdm-1.0.0.pom\n[WARNING] The POM for com.sap.cds:sdm:jar:1.0.0 is missing, no dependency information available\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/sdm/1.0.0/sdm-1.0.0.jar\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/sdm/1.0.0/sdm-1.0.0.jar\nDownloading from central: https://repo.maven.apache.org/maven2/com/sap/cds/sdm/1.0.0/sdm-1.0.0.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  22.941 s\n[INFO] Finished at: 2024-08-06T11:26:43+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project db: Could not resolve dependencies for project customer:db:jar:1.0.0-SNAPSHOT\n[ERROR] dependency: com.sap.cds:sdm:jar:1.0.0 (compile)\n[ERROR] \tCould not find artifact com.sap.cds:sdm:jar:1.0.0 in cap-java (https://int.repositories.cloud.sap/artifactory/proxy-cap-java/)\n[ERROR] \tCould not find artifact com.sap.cds:sdm:jar:1.0.0 in artifactory (https://int.repositories.cloud.sap/artifactory/build-snapshots/)\n[ERROR] \tCould not find artifact com.sap.cds:sdm:jar:1.0.0 in central (https://repo.maven.apache.org/maven2)\n[ERROR] \n[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n"
            }
        ]
    },
    {
        "kind": 1,
        "language": "markdown",
        "value": "## Service Changes\n\nThe service module `srv` of the demo project needs to be updated with the maven dependency for `sdm`.\nThis dependency has included the logic to correctly handle attachments and call the `AtacchmentService`.\n\nAlso here, the version is taken from the `version.txt` which is updated in case a new version in the repository is created.",
        "outputs": []
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "cd ../srv",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "\n"
            }
        ]
    },
    {
        "kind": 1,
        "language": "markdown",
        "value": "add the following dependency to the `srv/pom.xml`:\n```\n<dependency>\n    <groupId>com.sap.cds</groupId>\n    <artifactId>sdm</artifactId>\n    <version>1.0.0-SNAPSHOT</version>\n</dependency>\n```        ",
        "outputs": []
    },
    {
        "kind": 2,
        "language": "java",
        "value": "\nPath versionPath = Paths.get(\"../../version.txt\");\nString version;\nif (Files.exists(versionPath)){\n    version = Files.readString(versionPath);\n    System.out.println(\"Using version from 'version.txt': \" + version);\n}else{\n    version = \"1.0.2\";\n    System.out.println(\"Using hard coded version: \" + version);\n}\n\nString filePath = \"pom.xml\";\ntry {\n    String pom = Files.readString(Path.of(filePath));\n    String searchString = \"<dependencies>\";\n    Pattern pattern = Pattern.compile(searchString);\n    Matcher matcher = pattern.matcher(pom);\n\n    if (matcher.find()) {\n        System.out.println(\"String found at position: \" + matcher.start());\n    } else {\n        System.out.println(\"String not found\");\n    }\n\n    String newDependency = \"\\n\\n         <dependency>\\n          <groupId>com.sap.cds</groupId>\\n           <artifactId>sdm</artifactId>\\n          <version>\" + version + \"</version>\\n        </dependency>\\n\\n\";\n    int insertPos = matcher.end();\n    pom = pom.substring(0, insertPos) + newDependency + pom.substring(insertPos);\n\n    Files.writeString(Path.of(filePath), pom);\n\n} catch (IOException e) {\n    e.printStackTrace();\n}",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "Using hard coded version: 1.0.2\nString found at position: 540\n\n"
            }
        ]
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "cd ..",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "\n"
            }
        ]
    },
    {
        "kind": 1,
        "language": "markdown",
        "value": "## UI Enhancements\n",
        "outputs": []
    },
    {
        "kind": 1,
        "language": "markdown",
        "value": "### UI Facet\n\nA UI facet is added for the attachments in the `AdminService`. Because the facet is only added in this service, only this services shows the attachments on the UI.\n\nThe following facet is added:\n\n```\n{\n    $Type : 'UI.ReferenceFacet',\n    ID    : 'AttachmentsFacet',\n    Label : '{i18n>attachments}',\n    Target: 'attachments/@UI.LineItem'\\n    \n}\n```",
        "outputs": []
    },
    {
        "kind": 2,
        "language": "java",
        "value": "String filePath = \"app/admin-books/fiori-service.cds\";\n\ntry {\n    String cds = Files.readString(Path.of(filePath));\n    String searchString = \"Target:\\\\s*'@UI\\\\.FieldGroup#Details'\\\\s*},\";\n    Pattern pattern = Pattern.compile(searchString);\n    Matcher matcher = pattern.matcher(cds);\n\n    if (matcher.find()) {\n        System.out.println(\"String found at position: \" + matcher.start());\n    } else {\n        System.out.println(\"String not found\");\n    }\n\n    String newFacet = \"\\n    {\\n      $Type : 'UI.ReferenceFacet',\\n      ID     : 'AttachmentsFacet',\\n      Label : '{i18n>attachments}',\\n      Target: 'attachments/@UI.LineItem'\\n    },\";\n    int insertPos = matcher.end();\n    cds = cds.substring(0, insertPos) + newFacet + cds.substring(insertPos);\n\n    Files.writeString(Path.of(filePath), cds);\n\n} catch (IOException e) {\n    e.printStackTrace();\n}",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "String found at position: 546\n\n"
            }
        ]
    },
    {
        "kind": 1,
        "language": "markdown",
        "value": "### Texts\n\nThe i18n property file is enhanced with the texts for the attachments to show correct texts on the UI.",
        "outputs": []
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "cd app/_i18n",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "\n"
            }
        ]
    },
    {
        "kind": 2,
        "language": "java",
        "value": "String filePath = \"i18n.properties\";\n\nList<String> properties  = new ArrayList<>();\nproperties.add(\"\\n\");\nproperties.add(\"#Attachment properties\\n\");\nproperties.add(\"attachment_content = Content\\n\");\nproperties.add(\"attachment_mimeType = Mime Type\\n\");\nproperties.add(\"attachment_fileName = File Name\\n\");\nproperties.add(\"attachment_status = Status\\n\");\nproperties.add(\"attachment_note = Notes\\n\");\nproperties.add(\"attachment = Attachment\\n\");\nproperties.add(\"attachments = Attachments\");\n\nfor (String property: properties){\n    try {\n        Files.write(Paths.get(filePath), property.getBytes(), StandardOpenOption.APPEND);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n",
        "outputs": [
            {
                "mime": "text/plain",
                "value": "\n"
            }
        ]
    },
    {
        "kind": 1,
        "language": "markdown",
        "value": "## Build the Service\n\nRun `mvn clean compile` on the service to compile the models with all changes.",
        "outputs": []
    },
    {
        "kind": 2,
        "language": "shell",
        "value": "cd ../../srv\nmvn clean compile",
        "outputs": [
            {
                "mime": "application/vnd.code.notebook.stderr",
                "value": "Error: [INFO] Scanning for projects...\n[INFO] \n[INFO] --------------------------< customer:demoapp >--------------------------\n[INFO] Building demoapp 1.0.0-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/sdm/1.0.2/sdm-1.0.2.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/sdm/1.0.2/sdm-1.0.2.pom\nDownloading from central: https://repo.maven.apache.org/maven2/com/sap/cds/sdm/1.0.2/sdm-1.0.2.pom\n[WARNING] The POM for com.sap.cds:sdm:jar:1.0.2 is missing, no dependency information available\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-starter-spring-boot/3.0.1/cds-starter-spring-boot-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-starter-spring-boot/3.0.1/cds-starter-spring-boot-3.0.1.pom\nProgress (1): 2.4 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-starter-spring-boot/3.0.1/cds-starter-spring-boot-3.0.1.pom (2.4 kB at 16 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-services-api/3.0.1/cds-services-api-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-api/3.0.1/cds-services-api-3.0.1.pom\nProgress (1): 1.8 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-api/3.0.1/cds-services-api-3.0.1.pom (1.8 kB at 13 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-services-impl/3.0.1/cds-services-impl-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-impl/3.0.1/cds-services-impl-3.0.1.pom\nProgress (1): 2.5 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-impl/3.0.1/cds-services-impl-3.0.1.pom (2.5 kB at 15 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-services-utils/3.0.1/cds-services-utils-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-utils/3.0.1/cds-services-utils-3.0.1.pom\nProgress (1): 3.4 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-utils/3.0.1/cds-services-utils-3.0.1.pom (3.4 kB at 23 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-adapter-api/3.0.1/cds-adapter-api-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-adapter-api/3.0.1/cds-adapter-api-3.0.1.pom\nProgress (1): 1.4 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-adapter-api/3.0.1/cds-adapter-api-3.0.1.pom (1.4 kB at 9.9 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cloud/mt/cds-mtx/3.0.1/cds-mtx-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cloud/mt/cds-mtx/3.0.1/cds-mtx-3.0.1.pom\nProgress (1): 2.5 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cloud/mt/cds-mtx/3.0.1/cds-mtx-3.0.1.pom (2.5 kB at 12 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cloud/mt/tools/3.0.1/tools-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cloud/mt/tools/3.0.1/tools-3.0.1.pom\nProgress (1): 1.7 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cloud/mt/tools/3.0.1/tools-3.0.1.pom (1.7 kB at 12 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-services-messaging/3.0.1/cds-services-messaging-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-messaging/3.0.1/cds-services-messaging-3.0.1.pom\nProgress (1): 1.8 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-messaging/3.0.1/cds-services-messaging-3.0.1.pom (1.8 kB at 12 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-feature-jdbc/3.0.1/cds-feature-jdbc-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-feature-jdbc/3.0.1/cds-feature-jdbc-3.0.1.pom\nProgress (1): 1.8 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-feature-jdbc/3.0.1/cds-feature-jdbc-3.0.1.pom (1.8 kB at 6.8 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-framework-spring-boot/3.0.1/cds-framework-spring-boot-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-framework-spring-boot/3.0.1/cds-framework-spring-boot-3.0.1.pom\nProgress (1): 5.5 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-framework-spring-boot/3.0.1/cds-framework-spring-boot-3.0.1.pom (5.5 kB at 37 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-adapter-odata-v4/3.0.1/cds-adapter-odata-v4-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-adapter-odata-v4/3.0.1/cds-adapter-odata-v4-3.0.1.pom\nProgress (1): 3.0 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-adapter-odata-v4/3.0.1/cds-adapter-odata-v4-3.0.1.pom (3.0 kB at 20 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/repackaged/odata-v4-lib/3.0.1/odata-v4-lib-3.0.1.pom\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/repackaged/odata-v4-lib/3.0.1/odata-v4-lib-3.0.1.pom\nProgress (1): 3.3 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/repackaged/odata-v4-lib/3.0.1/odata-v4-lib-3.0.1.pom (3.3 kB at 23 kB/s)\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/sdm/1.0.2/sdm-1.0.2.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-starter-spring-boot/3.0.1/cds-starter-spring-boot-3.0.1.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-services-api/3.0.1/cds-services-api-3.0.1.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-services-impl/3.0.1/cds-services-impl-3.0.1.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-services-messaging/3.0.1/cds-services-messaging-3.0.1.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-feature-jdbc/3.0.1/cds-feature-jdbc-3.0.1.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-framework-spring-boot/3.0.1/cds-framework-spring-boot-3.0.1.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-adapter-odata-v4/3.0.1/cds-adapter-odata-v4-3.0.1.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-adapter-api/3.0.1/cds-adapter-api-3.0.1.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/cds-services-utils/3.0.1/cds-services-utils-3.0.1.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cloud/mt/tools/3.0.1/tools-3.0.1.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cloud/mt/cds-mtx/3.0.1/cds-mtx-3.0.1.jar\nDownloading from cap-java: https://int.repositories.cloud.sap/artifactory/proxy-cap-java/com/sap/cds/repackaged/odata-v4-lib/3.0.1/odata-v4-lib-3.0.1.jar\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/sdm/1.0.2/sdm-1.0.2.jar\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-starter-spring-boot/3.0.1/cds-starter-spring-boot-3.0.1.jar\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-api/3.0.1/cds-services-api-3.0.1.jar\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-impl/3.0.1/cds-services-impl-3.0.1.jar\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-messaging/3.0.1/cds-services-messaging-3.0.1.jar\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-feature-jdbc/3.0.1/cds-feature-jdbc-3.0.1.jar\nProgress (1): 6.8 kB                    Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-starter-spring-boot/3.0.1/cds-starter-spring-boot-3.0.1.jar (6.8 kB at 45 kB/s)\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-framework-spring-boot/3.0.1/cds-framework-spring-boot-3.0.1.jar\nProgress (1): 7.5/603 kBProgress (1): 16/603 kB Progress (1): 32/603 kBProgress (2): 32/603 kB | 7.5/214 kBProgress (2): 32/603 kB | 16/214 kB Progress (2): 32/603 kB | 32/214 kBProgress (3): 32/603 kB | 32/214 kB | 7.5/139 kBProgress (4): 32/603 kB | 32/214 kB | 7.5/139 kB | 7.5/42 kBProgress (4): 32/603 kB | 32/214 kB | 16/139 kB | 7.5/42 kB Progress (4): 32/603 kB | 32/214 kB | 16/139 kB | 16/42 kB Progress (4): 32/603 kB | 32/214 kB | 16/139 kB | 32/42 kBProgress (5): 32/603 kB | 32/214 kB | 16/139 kB | 32/42 kB | 7.5/20 kBProgress (5): 32/603 kB | 32/214 kB | 16/139 kB | 32/42 kB | 16/20 kB Progress (5): 32/603 kB | 32/214 kB | 16/139 kB | 32/42 kB | 20 kB                                                                     Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-feature-jdbc/3.0.1/cds-feature-jdbc-3.0.1.jar (20 kB at 66 kB/s)\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-adapter-odata-v4/3.0.1/cds-adapter-odata-v4-3.0.1.jar\nProgress (4): 48/603 kB | 32/214 kB | 16/139 kB | 32/42 kBProgress (4): 65/603 kB | 32/214 kB | 16/139 kB | 32/42 kBProgress (4): 81/603 kB | 32/214 kB | 16/139 kB | 32/42 kBProgress (4): 81/603 kB | 32/214 kB | 32/139 kB | 32/42 kBProgress (4): 81/603 kB | 48/214 kB | 32/139 kB | 32/42 kBProgress (4): 81/603 kB | 48/214 kB | 48/139 kB | 32/42 kBProgress (4): 81/603 kB | 48/214 kB | 48/139 kB | 42 kB   Progress (4): 81/603 kB | 65/214 kB | 48/139 kB | 42 kBProgress (4): 81/603 kB | 81/214 kB | 48/139 kB | 42 kB                                                       Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-messaging/3.0.1/cds-services-messaging-3.0.1.jar (42 kB at 98 kB/s)\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-adapter-api/3.0.1/cds-adapter-api-3.0.1.jar\nProgress (4): 81/603 kB | 81/214 kB | 48/139 kB | 7.5/367 kBProgress (4): 81/603 kB | 81/214 kB | 48/139 kB | 16/367 kB Progress (4): 81/603 kB | 81/214 kB | 48/139 kB | 32/367 kBProgress (4): 98/603 kB | 81/214 kB | 48/139 kB | 32/367 kBProgress (4): 114/603 kB | 81/214 kB | 48/139 kB | 32/367 kBProgress (4): 130/603 kB | 81/214 kB | 48/139 kB | 32/367 kBProgress (4): 147/603 kB | 81/214 kB | 48/139 kB | 32/367 kBProgress (4): 163/603 kB | 81/214 kB | 48/139 kB | 32/367 kBProgress (4): 163/603 kB | 81/214 kB | 65/139 kB | 32/367 kBProgress (4): 180/603 kB | 81/214 kB | 65/139 kB | 32/367 kBProgress (4): 196/603 kB | 81/214 kB | 65/139 kB | 32/367 kBProgress (4): 196/603 kB | 81/214 kB | 81/139 kB | 32/367 kBProgress (4): 196/603 kB | 81/214 kB | 98/139 kB | 32/367 kBProgress (4): 196/603 kB | 98/214 kB | 98/139 kB | 32/367 kBProgress (4): 196/603 kB | 98/214 kB | 114/139 kB | 32/367 kBProgress (4): 196/603 kB | 114/214 kB | 114/139 kB | 32/367 kBProgress (4): 196/603 kB | 130/214 kB | 114/139 kB | 32/367 kBProgress (4): 196/603 kB | 147/214 kB | 114/139 kB | 32/367 kBProgress (4): 196/603 kB | 163/214 kB | 114/139 kB | 32/367 kBProgress (4): 196/603 kB | 180/214 kB | 114/139 kB | 32/367 kBProgress (4): 196/603 kB | 196/214 kB | 114/139 kB | 32/367 kBProgress (5): 196/603 kB | 196/214 kB | 114/139 kB | 32/367 kB | 7.5/13 kBProgress (5): 196/603 kB | 196/214 kB | 114/139 kB | 32/367 kB | 13 kB                                                                          Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-adapter-api/3.0.1/cds-adapter-api-3.0.1.jar (13 kB at 22 kB/s)\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-utils/3.0.1/cds-services-utils-3.0.1.jar\nProgress (4): 196/603 kB | 196/214 kB | 114/139 kB | 48/367 kBProgress (4): 196/603 kB | 196/214 kB | 114/139 kB | 65/367 kBProgress (4): 196/603 kB | 196/214 kB | 114/139 kB | 81/367 kBProgress (4): 196/603 kB | 196/214 kB | 114/139 kB | 98/367 kBProgress (4): 212/603 kB | 196/214 kB | 114/139 kB | 98/367 kBProgress (4): 229/603 kB | 196/214 kB | 114/139 kB | 98/367 kBProgress (4): 245/603 kB | 196/214 kB | 114/139 kB | 98/367 kBProgress (4): 261/603 kB | 196/214 kB | 114/139 kB | 98/367 kBProgress (4): 278/603 kB | 196/214 kB | 114/139 kB | 98/367 kBProgress (4): 294/603 kB | 196/214 kB | 114/139 kB | 98/367 kBProgress (4): 311/603 kB | 196/214 kB | 114/139 kB | 98/367 kBProgress (4): 311/603 kB | 196/214 kB | 130/139 kB | 98/367 kBProgress (4): 327/603 kB | 196/214 kB | 130/139 kB | 98/367 kBProgress (4): 327/603 kB | 196/214 kB | 139 kB | 98/367 kB    Progress (4): 343/603 kB | 196/214 kB | 139 kB | 98/367 kBProgress (4): 360/603 kB | 196/214 kB | 139 kB | 98/367 kB                                                          Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-framework-spring-boot/3.0.1/cds-framework-spring-boot-3.0.1.jar (139 kB at 203 kB/s)\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cloud/mt/tools/3.0.1/tools-3.0.1.jar\nProgress (3): 376/603 kB | 196/214 kB | 98/367 kBProgress (3): 392/603 kB | 196/214 kB | 98/367 kBProgress (3): 392/603 kB | 212/214 kB | 98/367 kBProgress (3): 392/603 kB | 214 kB | 98/367 kB                                                 Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-api/3.0.1/cds-services-api-3.0.1.jar (214 kB at 307 kB/s)\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cloud/mt/cds-mtx/3.0.1/cds-mtx-3.0.1.jar\nProgress (3): 392/603 kB | 98/367 kB | 7.5/138 kBProgress (3): 392/603 kB | 98/367 kB | 16/138 kB Progress (3): 392/603 kB | 98/367 kB | 32/138 kBProgress (3): 392/603 kB | 114/367 kB | 32/138 kBProgress (3): 392/603 kB | 114/367 kB | 48/138 kBProgress (3): 392/603 kB | 130/367 kB | 48/138 kBProgress (3): 392/603 kB | 147/367 kB | 48/138 kBProgress (3): 392/603 kB | 163/367 kB | 48/138 kBProgress (3): 392/603 kB | 179/367 kB | 48/138 kBProgress (3): 392/603 kB | 196/367 kB | 48/138 kBProgress (3): 392/603 kB | 212/367 kB | 48/138 kBProgress (3): 392/603 kB | 229/367 kB | 48/138 kBProgress (3): 409/603 kB | 229/367 kB | 48/138 kBProgress (3): 425/603 kB | 229/367 kB | 48/138 kBProgress (3): 442/603 kB | 229/367 kB | 48/138 kBProgress (3): 458/603 kB | 229/367 kB | 48/138 kBProgress (3): 474/603 kB | 229/367 kB | 48/138 kBProgress (3): 491/603 kB | 229/367 kB | 48/138 kBProgress (3): 507/603 kB | 229/367 kB | 48/138 kBProgress (3): 524/603 kB | 229/367 kB | 48/138 kBProgress (3): 540/603 kB | 229/367 kB | 48/138 kBProgress (3): 556/603 kB | 229/367 kB | 48/138 kBProgress (3): 573/603 kB | 229/367 kB | 48/138 kBProgress (3): 589/603 kB | 229/367 kB | 48/138 kBProgress (3): 603 kB | 229/367 kB | 48/138 kB                                                 Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-impl/3.0.1/cds-services-impl-3.0.1.jar (603 kB at 734 kB/s)\nDownloading from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/repackaged/odata-v4-lib/3.0.1/odata-v4-lib-3.0.1.jar\nProgress (3): 229/367 kB | 48/138 kB | 7.5/60 kBProgress (3): 229/367 kB | 48/138 kB | 16/60 kB Progress (3): 229/367 kB | 48/138 kB | 32/60 kBProgress (3): 229/367 kB | 48/138 kB | 48/60 kBProgress (3): 229/367 kB | 48/138 kB | 60 kB                                               Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cloud/mt/tools/3.0.1/tools-3.0.1.jar (60 kB at 72 kB/s)\nProgress (3): 229/367 kB | 48/138 kB | 7.5/56 kBProgress (3): 229/367 kB | 48/138 kB | 16/56 kB Progress (3): 229/367 kB | 48/138 kB | 32/56 kBProgress (3): 229/367 kB | 48/138 kB | 48/56 kBProgress (3): 229/367 kB | 48/138 kB | 56 kB                                               Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cloud/mt/cds-mtx/3.0.1/cds-mtx-3.0.1.jar (56 kB at 67 kB/s)\nProgress (2): 229/367 kB | 65/138 kBProgress (2): 229/367 kB | 81/138 kBProgress (2): 229/367 kB | 98/138 kBProgress (2): 229/367 kB | 114/138 kBProgress (2): 229/367 kB | 130/138 kBProgress (2): 229/367 kB | 138 kB                                     Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-services-utils/3.0.1/cds-services-utils-3.0.1.jar (138 kB at 160 kB/s)\nProgress (1): 245/367 kBProgress (1): 261/367 kBProgress (1): 278/367 kBProgress (1): 294/367 kBProgress (1): 311/367 kBProgress (1): 327/367 kBProgress (1): 343/367 kBProgress (1): 360/367 kBProgress (1): 367 kB                        Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/cds-adapter-odata-v4/3.0.1/cds-adapter-odata-v4-3.0.1.jar (367 kB at 417 kB/s)\nProgress (1): 0/1.7 MBProgress (1): 0/1.7 MBProgress (1): 0/1.7 MBProgress (1): 0/1.7 MBProgress (1): 0.1/1.7 MBProgress (1): 0.1/1.7 MBProgress (1): 0.1/1.7 MBProgress (1): 0.1/1.7 MBProgress (1): 0.1/1.7 MBProgress (1): 0.1/1.7 MBProgress (1): 0.2/1.7 MBProgress (1): 0.2/1.7 MBProgress (1): 0.2/1.7 MBProgress (1): 0.2/1.7 MBProgress (1): 0.2/1.7 MBProgress (1): 0.2/1.7 MBProgress (1): 0.3/1.7 MBProgress (1): 0.3/1.7 MBProgress (1): 0.3/1.7 MBProgress (1): 0.3/1.7 MBProgress (1): 0.3/1.7 MBProgress (1): 0.3/1.7 MBProgress (1): 0.4/1.7 MBProgress (1): 0.4/1.7 MBProgress (1): 0.4/1.7 MBProgress (1): 0.4/1.7 MBProgress (1): 0.4/1.7 MBProgress (1): 0.4/1.7 MBProgress (1): 0.5/1.7 MBProgress (1): 0.5/1.7 MBProgress (1): 0.5/1.7 MBProgress (1): 0.5/1.7 MBProgress (1): 0.5/1.7 MBProgress (1): 0.5/1.7 MBProgress (1): 0.6/1.7 MBProgress (1): 0.6/1.7 MBProgress (1): 0.6/1.7 MBProgress (1): 0.6/1.7 MBProgress (1): 0.6/1.7 MBProgress (1): 0.6/1.7 MBProgress (1): 0.7/1.7 MBProgress (1): 0.7/1.7 MBProgress (1): 0.7/1.7 MBProgress (1): 0.7/1.7 MBProgress (1): 0.7/1.7 MBProgress (1): 0.7/1.7 MBProgress (1): 0.8/1.7 MBProgress (1): 0.8/1.7 MBProgress (1): 0.8/1.7 MBProgress (1): 0.8/1.7 MBProgress (1): 0.8/1.7 MBProgress (1): 0.8/1.7 MBProgress (1): 0.9/1.7 MBProgress (1): 0.9/1.7 MBProgress (1): 0.9/1.7 MBProgress (1): 0.9/1.7 MBProgress (1): 0.9/1.7 MBProgress (1): 0.9/1.7 MBProgress (1): 0.9/1.7 MBProgress (1): 1.0/1.7 MBProgress (1): 1.0/1.7 MBProgress (1): 1.0/1.7 MBProgress (1): 1.0/1.7 MBProgress (1): 1.0/1.7 MBProgress (1): 1.0/1.7 MBProgress (1): 1.1/1.7 MBProgress (1): 1.1/1.7 MBProgress (1): 1.1/1.7 MBProgress (1): 1.1/1.7 MBProgress (1): 1.1/1.7 MBProgress (1): 1.1/1.7 MBProgress (1): 1.2/1.7 MBProgress (1): 1.2/1.7 MBProgress (1): 1.2/1.7 MBProgress (1): 1.2/1.7 MBProgress (1): 1.2/1.7 MBProgress (1): 1.2/1.7 MBProgress (1): 1.3/1.7 MBProgress (1): 1.3/1.7 MBProgress (1): 1.3/1.7 MBProgress (1): 1.3/1.7 MBProgress (1): 1.3/1.7 MBProgress (1): 1.3/1.7 MBProgress (1): 1.4/1.7 MBProgress (1): 1.4/1.7 MBProgress (1): 1.4/1.7 MBProgress (1): 1.4/1.7 MBProgress (1): 1.4/1.7 MBProgress (1): 1.4/1.7 MBProgress (1): 1.5/1.7 MBProgress (1): 1.5/1.7 MBProgress (1): 1.5/1.7 MBProgress (1): 1.5/1.7 MBProgress (1): 1.5/1.7 MBProgress (1): 1.5/1.7 MBProgress (1): 1.6/1.7 MBProgress (1): 1.6/1.7 MBProgress (1): 1.6/1.7 MBProgress (1): 1.6/1.7 MBProgress (1): 1.6/1.7 MBProgress (1): 1.6/1.7 MBProgress (1): 1.7/1.7 MBProgress (1): 1.7/1.7 MBProgress (1): 1.7/1.7 MBProgress (1): 1.7/1.7 MBProgress (1): 1.7 MB                        Downloaded from artifactory: https://int.repositories.cloud.sap/artifactory/build-snapshots/com/sap/cds/repackaged/odata-v4-lib/3.0.1/odata-v4-lib-3.0.1.jar (1.7 MB at 1.4 MB/s)\nDownloading from central: https://repo.maven.apache.org/maven2/com/sap/cds/sdm/1.0.2/sdm-1.0.2.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  33.006 s\n[INFO] Finished at: 2024-08-06T11:27:20+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project demoapp: Could not resolve dependencies for project customer:demoapp:jar:1.0.0-SNAPSHOT\n[ERROR] dependency: com.sap.cds:sdm:jar:1.0.2 (compile)\n[ERROR] \tCould not find artifact com.sap.cds:sdm:jar:1.0.2 in cap-java (https://int.repositories.cloud.sap/artifactory/proxy-cap-java/)\n[ERROR] \tCould not find artifact com.sap.cds:sdm:jar:1.0.2 in artifactory (https://int.repositories.cloud.sap/artifactory/build-snapshots/)\n[ERROR] \tCould not find artifact com.sap.cds:sdm:jar:1.0.2 in central (https://repo.maven.apache.org/maven2)\n[ERROR] \n[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n"
            }
        ]
    },
    {
        "kind": 1,
        "language": "markdown",
        "value": "## Start the Service\n\n\nThe service can now be started with the following command in the `srv` module:\n\n```\nmvn cds:watch\n```\n\nAfter the service is startet the UI can be opened with:\n\n[http://localhost:8080](http://localhost:8080)\n\nNavigate to the index.html of the webapp and use user `admin` with password `admin`. \n\nUsing the tile `Manage Books` the attachments can be used in the detail area of the books.\n\nUsing the tile `Browse Books` no attachments are shown.",
        "outputs": []
    },
    {
        "kind": 1,
        "language": "markdown",
        "value": "",
        "outputs": []
    }
]